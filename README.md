# 视频下载工具

## 项目概述
使用Python FastAPI + Jinja2模板引擎 + yt-dlp + TailwindCSS实现视频下载工具，提供简洁易用的Web界面。

## 核心功能

### 1. 主页布局
- 头部显示站点Logo和简介
- 中部包含视频链接输入框和下载按钮
- 底部显示已下载视频列表，采用响应式网格布局
  - 移动端单列显示
  - 平板双列显示
  - 桌面端三列显示

### 2. 视频下载功能
- 支持视频链接解析和下载
- 实时显示下载进度：
  - 进度条动态更新
  - 显示下载百分比
  - 显示下载速度（MB/s）
  - 显示预计剩余时间
- 异步下载处理不阻塞主线程
- 支持从Chrome浏览器获取cookies

### 3. 视频管理功能
- 已下载视频卡片式展示：
  - 显示视频标题（支持长标题自动截断）
  - 显示文件大小
  - 预览和删除按钮
- 视频预览功能：
  - 点击预览按钮显示视频播放器
  - 支持视频播放控制
  - 一次只显示一个视频预览
- 视频删除功能：
  - 删除确认提示
  - 同步删除相关的缩略图和字幕文件

### 4. 用户体验优化
- 下载进度实时更新
- 进度信息清晰展示
- 错误信息友好提示
- 响应式设计适配各种设备
- 界面交互动画效果
- 视频卡片悬停效果

## 技术实现

### 1. 后端实现
- FastAPI构建RESTful API
- yt-dlp实现视频下载
- 异步任务处理下载进度
- 文件系统管理下载内容

### 2. 前端实现
- TailwindCSS构建响应式界面
- Fetch API处理异步请求
- HTML5视频播放器
- CSS Grid实现网格布局

### 3. 数据处理
- 视频信息提取和展示
- 下载进度实时更新
- 文件大小格式化
- 特殊字符清理处理

## 项目结构
```
b-download/
├── main.py            # 主程序
├── templates/         # 前端模板
│   └── index.html    # 主页模板
├── static/           # 静态资源
│   └── style.css    # 自定义样式
├── videos/           # 视频存储
├── requirements.txt  # 依赖列表
└── README.md        # 项目文档
```

## 运行指南
1. 安装依赖：
```bash
pip install -r requirements.txt
```

2. 启动服务：
```bash
uvicorn main:app --reload
```

3. 访问应用：
http://localhost:8000

## 注意事项
1. 需要Python 3.9+环境
2. 需要安装Chrome浏览器（用于获取cookies）
3. 确保有足够的磁盘空间存储视频
4. 部分视频可能需要登录B站账号